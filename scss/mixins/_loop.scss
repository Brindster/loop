/**
 * Loop
 */

@mixin loop($array, $name, $property, $addon:(), $affix:'-', $selector:'.') {
    // Make sure to have the correct format or do not generate rules
    // list type
    @if type-of($array) == 'list' {
        $merged_array: join($array, $addon);
        @each $value in $merged_array {
            @debug (#{$selector}#{$name}#{$affix}#{$value});
            #{$selector}#{$name}#{$affix}#{$value} {
                #{$property}: #{$value};
            }
        }
    // map type
    } @elseif type-of($array) == 'map' {
        $merged_array: map-merge($array, $addon);
        @each $key, $value in $merged_array {
            #{$selector}#{$name}#{$affix}#{$key} {
                #{$property}: $value;
            }
        }
    }
}

/**
 * Loop breakpoints
 */
@mixin loopBreakpoints($breakpoints, $data, $name, $property, $addon:(), $affix: '-', $selector: '.') {
    @if type-of($breakpoints) == 'list' and length($breakpoints) > 0 {
        @each $break in $breakpoints {
            @include breakpoint($break) {
                @include loop($data, #{$name}#{$affix}#{$break}, $property, $addon, $affix, $selector)
            }
        }
    }
}
