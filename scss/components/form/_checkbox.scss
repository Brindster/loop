/**
 * Checkbox
 */

$checkbox-size:                  1.8rem !default;
$checkbox-bgcolor:               $input-bgcolor !default;
$checkbox-border-color:          $input-border-color !default;
$checkbox-border-radus:          $input-border-radius !default;
$checkbox-box-shadow:            1px 1px 2px 0 rgba(#aaa, .3) !default;
$checkbox-checked-color:         $checkbox-bgcolor !default;
$checkbox-checked-bgcolor:       $input-color !default;
$checkbox-checked-border-color:  $checkbox-checked-bgcolor !default;

$use-checkbox-animnation: true !default;
$checkbox-sizes:() !default;

@mixin checkbox-size($size) {
    & + label {
        margin-bottom: ($size / 3);
        &:before {
            margin-right: ($size / 3);
            width: $size;
    		height: $size;
        }
        &:after {
            left: -($size * 0.025);
            @if $use-checkbox-animnation {
                width: ($size * 3 * (4/10));
                height:($size * 3 * (6/10));
                border-right-width: ($size * 3 * 0.12);
                border-bottom-width: ($size * 3 * 0.12);
            }
        }
    }
    &:checked + label:after {
        width: ($size * (4/10));
        height:($size * (6/10));
        border-right-width: ($size * 0.12);
        border-bottom-width: ($size * 0.12);
    }
}

.checkbox {
    position: absolute;
    visibility: hidden;

    & + label {
    	position: relative;
        display: flex;
        align-items: center;
        line-height: 1.1;
        font-weight: $font-weight-base;

    	&:before {
            display: flex;
    		content:'';
    		border: 1px solid $checkbox-border-color;
            border-radius: $checkbox-border-radus;
    		background-color: $checkbox-bgcolor;
            box-shadow: $checkbox-box-shadow;

            @if $use-checkbox-animnation {
                transition: background-color 300ms ease-in-out;
            }
    	}
        &:after {
            position: absolute;
            top: 50%;
            content:'';

            border-right-color: transparent;
            border-right-style: solid;
            border-bottom-color: transparent;
            border-bottom-style: solid;

            transform: rotateZ(45deg) translateX(-50%) translateY(-50%);
            transform-origin: right bottom;

            @if $use-checkbox-animnation {
                transition: all 300ms ease-in-out;
            }
        }
    }

	&:checked + label {
		&:before {
			background-color: $checkbox-checked-bgcolor;
            border-color: $checkbox-checked-border-color;
		}
        &:after {
            border-right-color: $checkbox-checked-color;
            border-bottom-color: $checkbox-checked-color;
            
            @if $use-checkbox-animnation {
                box-shadow: 1px 1px 2px $checkbox-checked-bgcolor;
            }
        }
	}

    @include checkbox-size($checkbox-size);

    @if type-of($checkbox-sizes) == 'map' {
        @each $size_name, $size_value in $checkbox-sizes {
            &.-#{$size_name} { @include checkbox-size($size_value) }
        }
    }
}
